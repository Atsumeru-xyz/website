(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{354:function(t,e,r){"use strict";r.r(e);var a=r(13),s=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[t._v("#")]),t._v(" HTTPS")]),t._v(" "),e("p",[t._v("За необхідності відкрити доступ до "),e("code",[t._v("Atsumeru")]),t._v(" серверу поза локальною мережею, категорично рекомендується захистити запити до нього за допомогою "),e("code",[t._v("https")]),t._v(" (особливо з огляду на те, що основний спосіб авторизації - "),e("code",[t._v("Basic")]),t._v(")")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://spring.io/projects/spring-boot",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Boot"),e("OutboundLink")],1),t._v(", який є серцем сервера, підтримує "),e("code",[t._v("https")]),t._v(" з коробки, але його необхідно налаштовувати самому, а self-signed та "),e("a",{attrs:{href:"https://letsencrypt.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Let's Encrypt"),e("OutboundLink")],1),t._v(" сертифікати не підтримуються")]),t._v(" "),e("h2",{attrs:{id:"reverse-proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reverse-proxy"}},[t._v("#")]),t._v(" Reverse Proxy")]),t._v(" "),e("p",[t._v("Оптимальним варіантом є використання "),e("RouterLink",{attrs:{to:"/ua/installation/https.html#cloudflare-reverse-proxy"}},[t._v("CloudFlare Reverse Proxy")]),t._v(", "),e("RouterLink",{attrs:{to:"/ua/installation/https.html#cloudflare-tunnel"}},[t._v("CloudFlare Tunnel")]),t._v(" або "),e("RouterLink",{attrs:{to:"/ua/installation/https.html#caddy"}},[t._v("Caddy")])],1),t._v(" "),e("div",{staticClass:"custom-block c-danger"},[e("h4",{staticClass:"c-title"}),e("p",[t._v("Для будь-якого із зазначених методів потрібна наявність власного доменного імені з можливістю зміни "),e("code",[t._v("NS-сервера")])])]),e("h3",{attrs:{id:"cloudflare-reverse-proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudflare-reverse-proxy"}},[t._v("#")]),t._v(" CloudFlare Reverse Proxy")]),t._v(" "),e("div",{staticClass:"custom-block c-tip"},[e("h4",{staticClass:"c-title"}),e("p",[e("code",[t._v("HTTPS")]),t._v(" сертифікат надається безкоштовно та автоматично")])]),e("div",{staticClass:"custom-block c-danger"},[e("h4",{staticClass:"c-title"}),e("p",[t._v("Цей метод працює тільки за наявності статичного/білого IP і з портами "),e("code",[t._v("80")]),t._v(", "),e("code",[t._v("8080")]),t._v(" або "),e("code",[t._v("443")]),t._v(". Якщо ваш сервер знаходиться за "),e("code",[t._v("NAT")]),t._v(" або ви хочете використовувати інший порт, скористайтеся "),e("RouterLink",{attrs:{to:"/ua/installation/https.html#cloudflare-tunnel"}},[t._v("CloudFlare Tunnel")])],1)]),e("ul",[e("li",[t._v("Необхідно зареєструватися в "),e("a",{attrs:{href:"https://dash.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CloudFlare"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("Натиснути на кнопку "),e("code",[t._v("Add Site")]),t._v(" на панелі швидкого доступу")]),t._v(" "),e("li",[t._v("Дотримуватися інструкції з додавання та налаштування свого домену")]),t._v(" "),e("li",[t._v("Відкрити панель управління доменом")]),t._v(" "),e("li",[t._v("Перейти в розділ "),e("code",[t._v("DNS")])]),t._v(" "),e("li",[t._v("Налаштувати редирект на актуальну адресу сервера")])]),t._v(" "),e("div",{staticClass:"custom-block c-tip"},[e("h4",{staticClass:"c-title"}),e("p",[t._v("Також, можливо (і бажано) увімкнути проксування запитів для кешування їх у "),e("code",[t._v("CloudFlare")]),t._v(" і приховування реального IP/адреса сервера")])]),e("h3",{attrs:{id:"cloudflare-tunnel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudflare-tunnel"}},[t._v("#")]),t._v(" CloudFlare Tunnel")]),t._v(" "),e("div",{staticClass:"custom-block c-tip"},[e("h4",{staticClass:"c-title"}),e("p",[e("code",[t._v("HTTPS")]),t._v(" сертифікат надається безкоштовно та автоматично")])]),e("ul",[e("li",[t._v("Необхідно зареєструватися в "),e("a",{attrs:{href:"https://one.dash.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CloudFlare Zero Trust"),e("OutboundLink")],1)]),t._v(" "),e("li",[t._v("Відкрити розділ "),e("code",[t._v("Access")])]),t._v(" "),e("li",[t._v("Відкрити підрозділ "),e("code",[t._v("Tunnel")])]),t._v(" "),e("li",[t._v("Натиснути на "),e("code",[t._v("Create a tunnel")]),t._v(" і слідувати інструкції зі створення тунелю")]),t._v(" "),e("li",[t._v("Після створення тунелю й активації конектора, відкрити створений тунель в панелі управління")]),t._v(" "),e("li",[t._v("У вкладці "),e("code",[t._v("Public Hostnames")]),t._v(" додати свій домен із зазначенням IP/адресу сервера и його порту")])]),t._v(" "),e("div",{staticClass:"custom-block c-tip"},[e("h4",{staticClass:"c-title"}),e("p",[t._v("За необхідності, у вкладці "),e("code",[t._v("Public Hostnames")]),t._v(" можна додати піддомени для свого домену із зазначенням іншого IP/адресу сервера або порта")])]),e("h3",{attrs:{id:"caddy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#caddy"}},[t._v("#")]),t._v(" Caddy")]),t._v(" "),e("div",{staticClass:"custom-block c-tip"},[e("h4",{staticClass:"c-title"}),e("p",[e("a",{attrs:{href:"https://caddyserver.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caddy"),e("OutboundLink")],1),t._v(" підтримує автоматичну генерацію "),e("a",{attrs:{href:"https://letsencrypt.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Let's Encrypt"),e("OutboundLink")],1),t._v(" сертифікатів")])]),e("p",[t._v("Необхідно встановити "),e("a",{attrs:{href:"https://caddyserver.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caddy"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Приклади конфігурації")]),t._v(" "),e("h4",{attrs:{id:"caddy-v2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#caddy-v2"}},[t._v("#")]),t._v(" Caddy (v2):")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<свій домен> {\n  reverse_proxy http://<ip/адрес сервера>:<порт>\n}\n")])])]),e("p",[t._v("З HTTPS:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("{\n  ваш@email.com\n  http_port 80\n  https_port 443\n}\n\n<свій домен> {\n  reverse_proxy http://<ip/адрес сервера>:<порт>\n}\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);