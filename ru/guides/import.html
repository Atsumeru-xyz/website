<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Импорт | 集める</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Free self-hosted mangas/comics/light novels media server">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <!--before-resource-hints--><link rel="preload" href="/assets/css/0.styles.59fbe820.css" as="style"><link rel="preload" href="/assets/js/app.262bb23f.js" as="script"><link rel="preload" href="/assets/js/2.10f9988b.js" as="script"><link rel="preload" href="/assets/js/39.015e9212.js" as="script"><link rel="preload" href="/assets/js/3.0080253a.js" as="script"><link rel="prefetch" href="/assets/js/10.5390b9af.js"><link rel="prefetch" href="/assets/js/11.b0db9f03.js"><link rel="prefetch" href="/assets/js/12.6fb378e0.js"><link rel="prefetch" href="/assets/js/13.e687d119.js"><link rel="prefetch" href="/assets/js/14.9f1035fa.js"><link rel="prefetch" href="/assets/js/15.6e3680fd.js"><link rel="prefetch" href="/assets/js/16.b4f89750.js"><link rel="prefetch" href="/assets/js/17.a28ae0cd.js"><link rel="prefetch" href="/assets/js/18.8eee2715.js"><link rel="prefetch" href="/assets/js/19.65484947.js"><link rel="prefetch" href="/assets/js/20.4a6b82a3.js"><link rel="prefetch" href="/assets/js/21.7d919c5f.js"><link rel="prefetch" href="/assets/js/22.af59c965.js"><link rel="prefetch" href="/assets/js/23.10df853c.js"><link rel="prefetch" href="/assets/js/24.a7f1adb8.js"><link rel="prefetch" href="/assets/js/25.0475b2ee.js"><link rel="prefetch" href="/assets/js/26.e2fa1134.js"><link rel="prefetch" href="/assets/js/27.d50b2e62.js"><link rel="prefetch" href="/assets/js/28.09da9fbf.js"><link rel="prefetch" href="/assets/js/29.57e055a4.js"><link rel="prefetch" href="/assets/js/30.42d94cd7.js"><link rel="prefetch" href="/assets/js/31.18999584.js"><link rel="prefetch" href="/assets/js/32.615c4074.js"><link rel="prefetch" href="/assets/js/33.4e17d84b.js"><link rel="prefetch" href="/assets/js/34.6a3e96e7.js"><link rel="prefetch" href="/assets/js/35.97258bd7.js"><link rel="prefetch" href="/assets/js/36.0224056f.js"><link rel="prefetch" href="/assets/js/37.2de96f1a.js"><link rel="prefetch" href="/assets/js/38.cfaf899d.js"><link rel="prefetch" href="/assets/js/4.9fafa2dc.js"><link rel="prefetch" href="/assets/js/40.c5bf3563.js"><link rel="prefetch" href="/assets/js/41.07bceb76.js"><link rel="prefetch" href="/assets/js/42.bfbc76cf.js"><link rel="prefetch" href="/assets/js/43.3a72b5d8.js"><link rel="prefetch" href="/assets/js/44.eec36894.js"><link rel="prefetch" href="/assets/js/45.4d6de4e6.js"><link rel="prefetch" href="/assets/js/46.35483a61.js"><link rel="prefetch" href="/assets/js/47.a141a16f.js"><link rel="prefetch" href="/assets/js/48.85a0a8cc.js"><link rel="prefetch" href="/assets/js/49.8f254a6c.js"><link rel="prefetch" href="/assets/js/5.f6ad36b6.js"><link rel="prefetch" href="/assets/js/50.11b1a91e.js"><link rel="prefetch" href="/assets/js/51.4862f295.js"><link rel="prefetch" href="/assets/js/6.ed2f37ba.js"><link rel="prefetch" href="/assets/js/7.56d4ecee.js"><link rel="prefetch" href="/assets/js/8.f8842d40.js"><link rel="prefetch" href="/assets/js/9.4504a08b.js"><!--after-resource-hints-->
    <link rel="stylesheet" href="/assets/css/0.styles.59fbe820.css">
  </head>
  <body>
    <!--before-vue-ssr-outlet--><div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ru/" class="home-link router-link-active"><img src="/assets/media/logo.png" alt="集める" class="logo"> <span class="site-name can-hide">集める</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ru/" class="nav-link">
  Домашняя страница
</a></div><div class="nav-item"><a href="/ru/installation/" class="nav-link">
  Установка
</a></div><div class="nav-item"><a href="/ru/guides/" class="nav-link router-link-active">
  Инструкции
</a></div><div class="nav-item"><a href="https://t.me/atsumeru_app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Языки" class="dropdown-title"><span class="title">Языки</span> <span class="arrow down"></span></button> <button type="button" aria-label="Языки" class="mobile-dropdown-title"><span class="title">Языки</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/import.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ru/guides/import.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Русский
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ru/" class="nav-link">
  Домашняя страница
</a></div><div class="nav-item"><a href="/ru/installation/" class="nav-link">
  Установка
</a></div><div class="nav-item"><a href="/ru/guides/" class="nav-link router-link-active">
  Инструкции
</a></div><div class="nav-item"><a href="https://t.me/atsumeru_app" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Telegram
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Языки" class="dropdown-title"><span class="title">Языки</span> <span class="arrow down"></span></button> <button type="button" aria-label="Языки" class="mobile-dropdown-title"><span class="title">Языки</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/import.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ru/guides/import.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Русский
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ru/" aria-current="page" class="sidebar-link">Домашняя страница</a></li><li><a href="/ru/glossary/" class="sidebar-link">Глоссарий</a></li><li><a href="/ru/installation/" class="sidebar-link">Установка</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Инструкции</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ru/guides/" aria-current="page" class="sidebar-link">Что такое Atsumeru?</a></li><li><a href="/ru/guides/users.html" class="sidebar-link">Пользователи</a></li><li><a href="/ru/guides/import.html" aria-current="page" class="active sidebar-link">Импорт</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ru/guides/import.html#управление-директориями-импорта" class="sidebar-link">Управление директориями импорта</a></li><li class="sidebar-sub-header"><a href="/ru/guides/import.html#добавление-новои-директории" class="sidebar-link">Добавление новой директории</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ru/guides/import.html#настроики-импорта" class="sidebar-link">Настройки импорта</a></li></ul></li><li class="sidebar-sub-header"><a href="/ru/guides/import.html#процесс-импортирования" class="sidebar-link">Процесс импортирования</a></li><li class="sidebar-sub-header"><a href="/ru/guides/import.html#кеширование-обложек-генерация-превью" class="sidebar-link">Кеширование обложек (генерация превью)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ru/guides/import.html#выбор-обложки-архива" class="sidebar-link">Выбор обложки Архива</a></li><li class="sidebar-sub-header"><a href="/ru/guides/import.html#выбор-обложки-серии" class="sidebar-link">Выбор обложки Серии</a></li><li class="sidebar-sub-header"><a href="/ru/guides/import.html#выбор-обложки-остальных-фаилов" class="sidebar-link">Выбор обложки остальных файлов</a></li></ul></li><li class="sidebar-sub-header"><a href="/ru/guides/import.html#удаление-директории" class="sidebar-link">Удаление директории</a></li></ul></li><li><a href="/ru/guides/library.html" class="sidebar-link">Библиотека</a></li><li><a href="/ru/guides/metadata.html" class="sidebar-link">Метаданные</a></li><li><a href="/ru/guides/read-progress.html" class="sidebar-link">Прогресс чтения</a></li><li><a href="/ru/guides/admin.html" class="sidebar-link">Администрирование</a></li><li><a href="/ru/guides/samba.html" class="sidebar-link">Samba (SMB)</a></li><li><a href="/ru/guides/google-drive.html" class="sidebar-link">Google Drive</a></li><li><a href="/ru/guides/book-info-scheme.html" class="sidebar-link">Схема book_info.json</a></li><li><a href="/ru/guides/rest-api.html" class="sidebar-link">REST API</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="импорт"><a href="#импорт" class="header-anchor">#</a> Импорт</h1> <p>После запуска сервера, его нужно наполнить своим контентом. Процесс очень простой и потребует минимальное участие в нем</p> <h2 id="управление-директориями-импорта"><a href="#управление-директориями-импорта" class="header-anchor">#</a> Управление директориями импорта</h2> <p>Окно управление директориями можно открыть нажав <div class="material-holder"><i class="material-icons">file_open</i></div> на панели <a href="https://github.com/AtsumeruDev/AtsumeruManager" target="_blank" rel="noopener noreferrer">Atsumeru Manager<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img width="24" height="24" src="/assets/media/icons/windows.png" style="position:relative;top:6px;"> <img width="24" height="24" src="/assets/media/icons/penguin.png" style="position:relative;top:6px;"> и выбрав <code>Управление директориями</code>. В данном окне можно просмотреть список добавленных директорий, <a href="/ru/guides/import.html#удаление-директории">удалять добавленные</a> и <a href="/ru/guides/import.html#добавление-новои-директории">добавлять новые</a>. Также, доступен запуск выборочного импортирования для отдельных директорий с подсказками о том, какой именно режим импортирования будет запущен</p> <div class="custom-block c-tip"><h4 class="c-title"></h4><p>Для удобства, дополнительно под каждой директорией отображается количество контента, которое из нее импортировано</p></div><img src="/assets/media/ru/guides/import-dir-list.png" style="display:block;margin:0 auto;"> <p style="text-align:center;font-size:75%;">Интерфейс управления директориями</p> <h2 id="добавление-новои-директории"><a href="#добавление-новои-директории" class="header-anchor">#</a> Добавление новой директории</h2> <p>Чтобы добавить новую директорию, необходимо в окне <code>Управление директориями</code> нажать на <code>Добавить директорию</code></p> <img src="/assets/media/ru/guides/import-dir-add.png" style="display:block;margin:0 auto;"> <p style="text-align:center;font-size:75%;">Интерфейс добавления директории</p> <p>В поле <code>Путь к директории</code> необходимо указать путь к желаемой директории из которой сервер попытается импортировать контент</p> <div class="custom-block c-tip"><h4 class="c-title"></h4><p>Нажав на <div class="material-holder"><i class="material-icons">folder</i></div> можно открыть удобное окно выбора директории</p></div><h3 id="настроики-импорта"><a href="#настроики-импорта" class="header-anchor">#</a> Настройки импорта</h3> <p>Перед добавлением директории можно настроить некоторые параметры импорта:</p> <div class="custom-block c-danger"><h4 class="c-title"></h4><p>Настройки <a href="/ru/guides/import.html#импортировать-как-синглы">Импортировать как Синглы</a> и <a href="/ru/guides/import.html#импортировать-как-синглы-только-фаилы-из-корневои-директории">Импортировать как Синглы только файлы из корневой директории</a> можно не использовать, если в <a href="/ru/guides/metadata.html">Метаданных</a> ваших файлов уже указан статус <code>Сингл</code></p></div><h4 id="импортировать-как-синглы"><a href="#импортировать-как-синглы" class="header-anchor">#</a> Импортировать как Синглы</h4> <p>Активация данного параметра заставит сервер импортировать каждый файл как <code>Сингл</code>, создавая для них отдельную <code>Серию</code> игнорирую любые другие условия импорта (не собирая автоматически <code>Серию</code> из поддиректорий и игнорируя статус из <a href="/ru/guides/metadata.html">Метаданных</a>). Данный параметр может быть полезным, если ваш контент как-то каталогизирован (например, <code>Ваншоты</code> разных авторов рассортированы по директориям), но вы не хотите, чтобы сервер учитывал этот момент и не создавал некорректные <code>Серии</code></p> <h4 id="импортировать-как-синглы-только-фаилы-из-корневои-директории"><a href="#импортировать-как-синглы-только-фаилы-из-корневои-директории" class="header-anchor">#</a> Импортировать как Синглы только файлы из корневой директории</h4> <p>Активация данного параметра заставит сервер импортировать каждый файл в корне указанной директории как <code>Сингл</code> создавая для них отдельную <code>Серию</code>. Данный параметр может быть полезным, если ваш контент состоит как из <code>Серий</code>, так и из <code>Синглов/Ваншотов</code> и вы хотите импортировать их не создавая некорректные <code>Серии</code></p> <h2 id="процесс-импортирования"><a href="#процесс-импортирования" class="header-anchor">#</a> Процесс импортирования</h2> <p>Нажав <div class="material-holder"><i class="material-icons">save</i></div> <code>Сохранить</code> в диалоге добавления директории, запустится процесс импортирования на сервере. Данный процесс достаточно быстрый (~20 архивов/сек в однопоточном режиме и до 40 архивов/сек в многопоточном)</p> <p>Во время импорта сервер читает <a href="/ru/guides/metadata.html">Метаданные</a> из архивов, ищет и подготовливает обложки, формирует списки глав и автоматически создает <code>Серии</code> из файлов в поддиректориях</p> <p>Сервер <strong>не блокируется</strong>, пока выполняется импортирование, поэтому им можно пользоваться как обычно</p> <div class="custom-block c-tip"><h4 class="c-title"></h4><p>Если у файла есть записанные <a href="/ru/guides/metadata.html">Метаданные</a> и в них указан статус <code>Сингл</code>, сервер автоматически импортирует данных файл как <code>Сингл</code>, даже если он размещен в поддиректории с другими файлами</p></div><h2 id="кеширование-обложек-генерация-превью"><a href="#кеширование-обложек-генерация-превью" class="header-anchor">#</a> Кеширование обложек (генерация превью)</h2> <p>После окончания процесса импортирования автоматически запустится сервис кеширования обложек (генерации превью) для всех импортированных файлов, для которых обложка отсутствует. Данная операция выполняется существенно дольше, так как из каждого архива необходимо извлечь обложку, декодировать ее, уменьшить в размерах и сохранить на диск. Сервер в этот момент также <strong>не блокируется</strong></p> <h3 id="выбор-обложки-архива"><a href="#выбор-обложки-архива" class="header-anchor">#</a> Выбор обложки <code>Архива</code></h3> <p>Выбор обложки из архива происходит по некоторым критериям (с приоритетом от верхнего к нижнему):</p> <ul><li>изображение имеет название <code>00000.&lt;расширение&gt;</code></li> <li>изображение содержит в названии слово <code>cover</code></li> <li>изображение первое в списке с поддерживаемым расширением: <code>jpg</code>, <code>jpeg</code>, <code>png</code>, <code>bmp</code>, <code>webp</code></li></ul> <h3 id="выбор-обложки-серии"><a href="#выбор-обложки-серии" class="header-anchor">#</a> Выбор обложки <code>Серии</code></h3> <p>По умолчанию, обложкой <code>Серии</code> становится обложка первого <code>Архива</code></p> <p>Также можно предоставить альтернативную обложку с названием <code>cover.&lt;расширение&gt;</code>, где <code>&lt;расширение&gt;</code> можеть быть одним из: <code>jpg</code>, <code>jpeg</code>, <code>png</code>, <code>bmp</code>, <code>webp</code>. Обложку необходимо расположить в директории с остальными файлами, которые будут собраны в <code>Серию</code></p> <div class="custom-block c-tip"><h4 class="c-title"></h4><p>Если опция <a href="/ru/installation/server-settings.html#allow-loading-list-with-volumes-true-false">Разрешить загрузку списков с томами</a> включена, то сервер будет заменять обложку <code>Серии</code> на обложку первого непрочитанного <code>Архива</code></p> <img src="/assets/media/ru/guides/import-cover-change.png" style="display:block;margin:0 auto;"> <p style="text-align:center;font-size:75%;">Автоматическая смена обложки</p></div><h3 id="выбор-обложки-остальных-фаилов"><a href="#выбор-обложки-остальных-фаилов" class="header-anchor">#</a> Выбор обложки остальных файлов</h3> <p>Для <code>PDF</code> и <code>Djvu</code> в качестве обложки выступает первая страница книги<br>
Для <code>ePub</code> в качестве обложки выступает обложка из <code>OPF</code> метаданных книги или первое изображение в архиве<br>
Для <code>FB2</code> в качестве обложки выступает обложка из метаданных</p> <h2 id="удаление-директории"><a href="#удаление-директории" class="header-anchor">#</a> Удаление директории</h2> <p>Для удаления директории необходимо нажать <div class="material-holder"><i class="material-icons">delete</i></div> возле директории в окне управления. Во время удаления весь связанный контент будет удален из библиотеки. История чтения остается и восстановится автоматически после повторного импортирования</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ru/guides/users.html" class="prev">
        Пользователи
      </a></span> <span class="next"><a href="/ru/guides/library.html">
        Библиотека
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div><!--after-vue-ssr-outlet-->
    <!--before-scripts--><script src="/assets/js/app.262bb23f.js" defer></script><script src="/assets/js/2.10f9988b.js" defer></script><script src="/assets/js/39.015e9212.js" defer></script><script src="/assets/js/3.0080253a.js" defer></script><!--after-scripts-->
  </body>
</html>
